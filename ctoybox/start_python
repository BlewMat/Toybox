#!/bin/bash

# add baselines to path!
export PYTHONPATH=${PWD}/baselines:${PYTHONPATH}

# RUN THIS command FROM CTOYBOX.
set -eu

# install toybox_cffi rust package
cd ../toybox_cffi && maturin develop -b cffi --release && cd -

# install toybox_api python package
cd ../toybox_api_py && python3 setup.py install && cd -

# install toybox_envs python package
cd ../toybox_envs_py && python3 setup.py install && cd -

# install baselines-specific requirements.
pip install -r requirements.txt

echo "PYTHONPATH $PYTHONPATH"
python3 "$@"
